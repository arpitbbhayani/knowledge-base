GitHub Outage: Repository Creation Failed

Dissecting GitHub Outage New repository creation failed due to scanning secrets ? what happened In April 2021 . people were unable to create New repository and root was new repository cause creation dependency on scanning secrets what is secret ? scanning API keys Developers tend to check - in secrets → Passwords in their code bases through Tokens ↓ settings / constants file critical celeb hook URL made ? what if the repository is accidentally public Or somehow the secrets are leaked ! This often leads to Data Breach or Intra abuse ↓ ↓ ransom mining GitHub periodically checks for committed secrets and warns us about it

Secret scanner Service Secret scanner has internal Service GitHub an service that all the repositories periodically scans for any checked - in secrets , we call it ≠ DB Repository creation flow when a new repository is created on Github , it is registered in the DB of Secret scanner service so that they be scanned can periodically . Repository Svc Secret scanning Svc ; what changed ? its cluster Secret scanning table moved to was own IT - . -7 - I cluster Cluster Secret Scanning Database

Unknown Dependency 0 ± Repository Svc nonhuman T This wasn't working Secret scanning Database due to a bug " Broke the to write to the secret ability of application scanning DB ↓ Repository service * This tells us repository service was directly writing to secret scan DB - ! and it was an unknown dependency 4 Hence , repo creation wasn't ? working HOW did they mitigate " " Rolled back the data migration * purely speculative As soon as data would have been migrated , the creation failed so , they quickly moved back the data ( repo info ) to where it was - it could also be just a network or credential change