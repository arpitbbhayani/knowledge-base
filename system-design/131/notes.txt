An Introduction to Sharding and Partitioning

stranding and Partitioning stranding : method of distributing data across multiple machines Partitioning splitting : a subset of data within the same instance How a database is scaled ? A database database 3306 > My Sal server is just a > a process ( mysqld , mongo d) running on an E- C2 machine . Virtual server And this F- C2 machine we represent as You put your database in production . serving real traffic El 100 WPS API server , You that unable to are getting more users , your DB is manage you scale up your DB ^ . - give it more CPU , RAM and DISK 200 WPS API server ☐ Bulkier server + Read Replica

Your product went viral and your bulky database is unable to handle the load , so you scale up again 0 ¥ API server €1 1000 WPS know be able But , after a certain stage you you would not " " to vertical has limit scale up your DB because scaling so will have to resort Horizontal , you to scaling say , one DB Server was handling 1000 WPS and we cannot scale up beyond that but 1500 WPS we are getting , we scale horizontally and split the data 50% data API server 750 WPS El 50% data 750 WPS By adding one mode database server , cue reduced the load to 750 WPS on each node and thus handled higher throughput

50% data 0 750 ¥ API server WPS El 50% 750 data WPS Each database server is thus a shard and we say that the data is partitioned database is stranded while the data is partitioned Overall , a ↑ Oversimplification . most people use the split across terms interchangeably 100GB You partitioned the 100GB of ✗ total data into 5 mutually 30GB exclusive partitions 10GB . 30GB 20GB 10GB these partitions either live Each of can on one database server or a couple of them can share one server . And this depends on the # shards you have

30GB 30GB 100GB A C shard 1 ✗ 30GB 10GB 30GB 20GB 10GB 10GB 20GB A B C D E B D shard 2 10GB F- 5 distributed 2 shards partitions of our 100GB dataset is across How to partition the data ? There are two categories of partitioning 1. Horizontal Partitioning Vertical 2. Partitioning " " When the 100GB data we split , we could have used either the of mags but to deciding which one pick depends on load , use case , and access pattern .

stranding and Partitioning Partitioning / No Y# NO . ' gnawing YES Read Replica Advantages of stranding Disadvantages of stranding - Handle large Reads and writes - operationally complex Increase overall storage capacity - - cross - shard queries expensive Higher availability -