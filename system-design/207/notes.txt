Discord s Data Platform

Discord 's Data Platform ? Why companies need a data platform - business decisions and strategies Data doesn't lie data science train ML models - power - deep product insights - with databases ? can they not work directly - each service has a separate DB be databases of different kinds - can Making sense from both the profile MongoDB } service eg : data requires them at the payment service MySQL same place ( DB ) cannot " " " " - make cross DB and joins queries requires a ton of time and computation - analytics queries will choke transactional PB throughput Hence all the data is duplicated and stored in a centralized location - Data warehouse / lake unified view of data / information crunching stat / insights is easy

Derived Discord 's Data Platform - Data mare house Transactional a- Databases Big Query Redshift Profile , > > Payments } Orders view unified of the data ? so what is the here , challenge O O O 1. Non relational Data sources - Insight Product ML 2- Different data views for > different end use cases Tablets + Table 2 + Table 3 Recommendation eg : Tablets + Table 5 - Retention analysis Table 2 + Table 4 - Payment insights Note : different tables need to be joined / merged to and kept efficiently power use cases * End use case should need to do minimal joins

Auth Profile Order y L Transactional Tables user - detail core Tables user - detail + Derived Tables orders _ - w Data Science ML Insights creating a new derived table New table is configured in YAML along with details such as columns table 1. of new 2 strategy : merge append , , replace while the values what should we do writing new 3. schedule 4. window 5. partition by - - sort within 6. cluster - by partition 7- dataset 8- Sql select query that is executed and output the derived table is put in

Architecture when was the ? table last updated [ Metadata 10g Table 1 > 3 1485 Pods Table 2 Big Query Yaml files view YAML files creates DAG Unified of the data in airflow automatically - O O O E E E some tables Insight Product ML exported to Scylla DB For online queries Big Query is not meant for millisecond Prediction latency use case .